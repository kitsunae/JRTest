<div class="container text-center">
    <h1>List of tasks of {{user.name+" "+user.surname}}</h1>
</div>
<div class="container">
    <ul class="nav nav-tabs col-md-8 col-md-offset-2">
        <li role="presentation" class="active"><a data-toggle="tab" href="tasks/#all">All</a></li>
        <li role="presentation"><a data-toggle="tab" href="tasks/#done">Done</a></li>
        <li role="presentation"><a data-toggle="tab" href="tasks/#undone">Not done</a></li>
    </ul>
    <div class="tab-content col-md-8 col-md-offset-2">
        <div class="tab-pane fade in active" id="all">
            <table class="table text-center table-hover">
                <thead>
                <tr>
                    <td class="lead">Title</td>
                    <td class="lead">Status</td>
                    <td class="lead">Edit</td>
                    <td class="lead">Remove</td>
                </tr>
                </thead>
                <tr ng-repeat="task in tasksCtrl.tasks"
                    ng-class="{success : task.done, warning : !task.done}" data-toggle="collapse"
                    href="#{{task.createdAt}}" aria-expanded="false" aria-controls="{{task.createdAt}}"
                    role="button">
                    <td class="text-justify col-md-9" ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <p class="lead">{{task.title}}</p>
                        <div class="collapse text-justify" id="{{task.createdAt}}">
                            <p>{{task.text}}</p>
                            <p>{{task.createdAt | date:'dd.MM.yyyy HH:mm'}}</p>
                            <p>by {{task.user.name + " "+ task.user.surname}}</p>
                        </div>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <i class="glyphicon glyphicon-ok" ng-show="task.done"></i>
                        <i class="glyphicon glyphicon-remove" ng-hide="task.done"></i>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <button ng-click="tasksCtrl.setClicked(task.createdAt)">Edit</button>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <button ng-click="tasksCtrl.remove(task.createdAt)">Remove</button>
                    </td>
                    <td ng-show="tasksCtrl.isClicked(task.createdAt)" class="text-justify col-md-12" colspan="4">
                        <div>
                            <p class="lead">{{task.title}}</p>
                            <div>
                                <p>{{task.text}}</p>
                            </div>
                        </div>
                        <form class="col-md-12">
                            <div class="form-group">
                                <label for="title">Title</label>
                                <input class="form-control" type="text" id="title" ng-model="task.title">
                            </div>
                            <div class="form-group">
                                <label for="text">Text</label>
                                <textarea class="form-control" id="text" ng-model="task.text"></textarea>
                            </div>
                            <div class="form-group">
                                <input class="btn btn-success" type="submit" value="Submit"
                                       ng-click="tasksCtrl.acceptChanges()">
                                <input class="btn btn-warning" type="submit" value="Cancel"
                                       ng-click="tasksCtrl.cancelChanges()">
                            </div>
                        </form>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" ng-hide="tasksCtrl.isClicked(-1)">
                        <button class="btn btn-info pull-right" ng-click="tasksCtrl.setClicked(-1)">Add Task</button>
                    </td>
                    <td ng-show="tasksCtrl.isClicked(-1)" class="text-justify col-md-12" colspan="4">
                        <div>
                            <p class="lead">{{tasksCtrl.lastTask.title}}</p>
                            <div>
                                <p>{{tasksCtrl.lastTask.text}}</p>
                            </div>
                        </div>
                        <form class="col-md-12">
                            <div class="form-group">
                                <label for="title">Title</label>
                                <input class="form-control" type="text" id="newTitle" ng-model="tasksCtrl.lastTask.title">
                            </div>
                            <div class="form-group">
                                <label for="text">Text</label>
                                <textarea class="form-control" id="newText" ng-model="tasksCtrl.lastTask.text"></textarea>
                            </div>
                            <div class="form-group">
                                <input class="btn btn-success" type="submit" value="Submit"
                                       ng-click="tasksCtrl.acceptChanges()">
                                <input class="btn btn-warning" type="submit" value="Cancel"
                                       ng-click="tasks.cancelChanges()">
                            </div>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
        <div class="tab-pane fade" id="done">
            <table class="table text-center">
                <thead>
                <tr>
                    <td class="lead">Title</td>
                    <td class="lead">Status</td>
                    <td class="lead">Edit</td>
                    <td class="lead">Remove</td>
                </tr>
                </thead>
                <tr ng-repeat="task in tasksCtrl.tasks" ng-show="task.done"
                    class="success" data-toggle="collapse" href="#{{task.createdAt+'1'}}" aria-expanded="false"
                    aria-controls="{{task.createdAt+'1'}}" role="button">
                    <td class="text-justify col-md-9" ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <p class="lead">{{task.title}}</p>
                        <div class="collapse text-justify" id="{{task.createdAt+'1'}}">
                            <p>{{task.text}}</p>
                            <p>{{task.createdAt | date:'dd.MM.yyyy HH:mm'}}</p>
                            <p>by {{task.user.name + " "+ task.user.surname}}</p>
                        </div>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <i class="glyphicon glyphicon-ok"></i>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <button ng-click="tasksCtrl.setClicked(task.createdAt)">Edit</button>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <button ng-click="tasksCtrl.remove(task.createdAt)">Remove</button>
                    </td>
                    <td ng-show="tasksCtrl.isClicked(task.createdAt)" class="text-justify col-md-12" colspan="4">
                        <div>
                            <p class="lead">{{task.title}}</p>
                            <div>
                                <p>{{task.text}}</p>
                            </div>
                        </div>
                        <form class="col-md-12">
                            <div class="form-group">
                                <label for="title1">Title</label>
                                <input class="form-control" type="text" id="title1" ng-model="task.title">
                            </div>
                            <div class="form-group">
                                <label for="text1">Text</label>
                                <textarea class="form-control" id="text1" ng-model="task.text"></textarea>
                            </div>
                            <div class="form-group">
                                <input class="btn btn-success" type="submit" value="Submit"
                                       ng-click="tasksCtrl.acceptChanges()">
                                <input class="btn btn-warning" type="submit" value="Cancel"
                                       ng-click="tasksCtrl.cancelChanges()">
                            </div>
                        </form>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" ng-hide="tasksCtrl.isClicked(-1)">
                        <button class="btn btn-info pull-right" ng-click="tasksCtrl.setClicked(-1)">Add Task</button>
                    </td>
                    <td ng-show="tasksCtrl.isClicked(-1)" class="text-justify col-md-12" colspan="4">
                        <div>
                            <p class="lead">{{tasksCtrl.lastTask.title}}</p>
                            <div>
                                <p>{{tasksCtrl.lastTask.text}}</p>
                            </div>
                        </div>
                        <form class="col-md-12">
                            <div class="form-group">
                                <label for="newTitle1">Title</label>
                                <input class="form-control" type="text" id="newTitle1" ng-model="tasksCtrl.lastTask.title">
                            </div>
                            <div class="form-group">
                                <label for="newText1">Text</label>
                                <textarea class="form-control" id="newText1" ng-model="tasksCtrl.lastTask.text"></textarea>
                            </div>
                            <div class="form-group">
                                <input class="btn btn-success" type="submit" value="Submit"
                                       ng-click="tasksCtrl.acceptChanges()">
                                <input class="btn btn-warning" type="submit" value="Cancel"
                                       ng-click="tasksCtrl.cancelChanges()">
                            </div>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
        <div class="tab-pane fade" id="undone">
            <table class="table text-center">
                <thead>
                <tr>
                    <td class="lead">Title</td>
                    <td class="lead">Status</td>
                    <td class="lead">Edit</td>
                    <td class="lead">Remove</td>
                </tr>
                </thead>
                <tr ng-repeat="task in tasksCtrl.tasks" ng-hide="task.done"
                    class="warning" data-toggle="collapse" href="#{{task.createdAt+'2'}}" aria-expanded="false"
                    aria-controls="{{task.createdAt+'2'}}" role="button">
                    <td class="text-justify col-md-9" ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <p class="lead">{{task.title}}</p>
                        <div class="collapse text-justify" id="{{task.createdAt+'2'}}">
                            <p>{{task.text}}</p>
                            <p>{{task.createdAt | date:'dd.MM.yyyy HH:mm'}}</p>
                            <p>by {{task.user.name + " "+ task.user.surname}}</p>
                        </div>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <i class="glyphicon glyphicon-remove"></i>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <button ng-click="tasksCtrl.setClicked(task.createdAt)">Edit</button>
                    </td>
                    <td ng-hide="tasksCtrl.isClicked(task.createdAt)">
                        <button ng-click="tasksCtrl.remove(task.createdAt)">Remove</button>
                    </td>
                    <td ng-show="tasksCtrl.isClicked(task.createdAt)" class="text-justify col-md-12" colspan="4">
                        <div>
                            <p class="lead">{{task.title}}</p>
                            <div>
                                <p>{{task.text}}</p>
                            </div>
                        </div>
                        <form class="col-md-12">
                            <div class="form-group">
                                <label for="title2">Title</label>
                                <input class="form-control" type="text" id="title2" ng-model="task.title">
                            </div>
                            <div class="form-group">
                                <label for="text2">Text</label>
                                <textarea class="form-control" id="text2" ng-model="task.text"></textarea>
                            </div>
                            <div class="form-group">
                                <input class="btn btn-success" type="submit" value="Submit"
                                       ng-click="tasksCtrl.acceptChanges()">
                                <input class="btn btn-warning" type="submit" value="Cancel"
                                       ng-click="tasksCtrl.cancelChanges()">
                            </div>
                        </form>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" ng-hide="tasksCtrl.isClicked(-1)">
                        <button class="btn btn-info pull-right" ng-click="tasksCtrl.setClicked(-1)">Add Task</button>
                    </td>
                    <td ng-show="tasksCtrl.isClicked(-1)" class="text-justify col-md-12" colspan="4">
                        <div>
                            <p class="lead">{{tasksCtrl.lastTask.title}}</p>
                            <div>
                                <p>{{tasksCtrl.lastTask.text}}</p>
                            </div>
                        </div>
                        <form class="col-md-12">
                            <div class="form-group">
                                <label for="newTitle2">Title</label>
                                <input class="form-control" type="text" id="newTitle2" ng-model="tasksCtrl.lastTask.title">
                            </div>
                            <div class="form-group">
                                <label for="newText2">Text</label>
                                <textarea class="form-control" id="newText2" ng-model="tasksCtrl.lastTask.text"></textarea>
                            </div>
                            <div class="form-group">
                                <input class="btn btn-success" type="submit" value="Submit"
                                       ng-click="tasksCtrl.acceptChanges()">
                                <input class="btn btn-warning" type="submit" value="Cancel"
                                       ng-click="tasksCtrl.cancelChanges()">
                            </div>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="col-md-6 col-md-offset-3 text-center">
        <nav aria-label="Page navigation">
            <ul class="pagination">
                <li>
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li ng-repeat="page in taskCtrl.pages"><a href="#">{{page}}</a></li>
                <li>
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>